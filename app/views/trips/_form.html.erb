<% if flash[:error] %>
<h3 style="color: red;"><%= flash[:error] %></h3>
<% end %>
<div class="container">
  <div class="stepwizard">
    <div class="stepwizard-row setup-panel">
      <div class="stepwizard-step">
        <a href="#step-1" type="button" class="btn btn-primary btn-circle">1</a>
        <p>Step 1</p>
      </div>
      <div class="stepwizard-step">
        <a href="#step-2" type="button" class="btn btn-default btn-circle" disabled="disabled">2</a>
        <p>Step 2</p>
      </div>
      <div class="stepwizard-step">
        <a href="#step-3" type="button" class="btn btn-default btn-circle" disabled="disabled">3</a>
        <p>Step 3</p>
      </div>
    </div>
  </div>
  <%= form_tag @url, method: @method do %>
  <div class="row setup-content" id="step-1">
    <div class="col-xs-12">
      <div class="col-md-12">
        <h3> Step 1</h3>
        <div class="form-group">
          <%= label_tag 'Origin Street Address' %>
          <%= text_field_tag 'origin_address[street_address]', @origin_address ? @origin_address.street_address : "" %>
        </div>
        <div class="form-group">
         <%= label_tag 'Origin Secondary Address' %>
         <%= text_field_tag 'origin_address[secondary_address]', @origin_address ? @origin_address.secondary_address : "" %>
       </div>
       <div class="form-group">
        <%= label_tag 'Location Description' %>
        <%= text_field_tag 'origin_address[description]', @origin_address ? @origin_address.description : "" %>
      </div>
      <div class="form-group">
        <%= label_tag 'Origin City' %>
        <%= text_field_tag 'origin_address[city]', @origin_address ? @origin_address.city : "" %>
      </div>
      <div class="form-group">
        <%= label_tag 'Origin State' %>
        <%= text_field_tag 'origin_address[state]', @origin_address ? @origin_address.state : "" %>
      </div>
      <div class="form-group">
       <%= label_tag "Zip Code" %>
       <%= text_field_tag "origin_address[zip_code]", @origin_address ? @origin_address.zip_code : "" %>
       <%= hidden_field_tag 'origin_address[user_id]', current_user.id %>
     </div>
     <button class="btn btn-primary nextBtn btn-lg pull-right" type="button" >Next</button>
   </div>
 </div>
</div>
<div class="row setup-content" id="step-2">
  <div class="col-xs-12">
    <div class="col-md-12">
      <h3> Step 2</h3>
      <div class="form-group">
        <%= hidden_field_tag 'destination_address[user_id]', current_user.id %> <br>
        <%= label_tag 'Destination Street Address' %>
        <%= text_field_tag 'destination_address[street_address]', @destination_address ? @destination_address.street_address : "" %>
      </div>
      <div class="form-group">
       <%= label_tag 'Destination Secondary Address' %>
       <%= text_field_tag 'destination_address[secondary_address]', @destination_address ? @destination_address.secondary_address : "" %>
     </div>
     <div class="form-group">
      <%= label_tag 'Destination City' %>
      <%= text_field_tag 'destination_address[city]', @destination_address ? @destination_address.city : "" %>
    </div>
    <div class="form-group">
      <%= label_tag 'Destination State' %>
      <%= text_field_tag 'destination_address[state]', @destination_address ? @destination_address.state : "" %>
    </div>
    <div class="form-group">
      <%= label_tag 'Destination Zip Code' %>
      <%= text_field_tag 'destination_address[zip_code]', @destination_address ? @destination_address.zip_code : "" %>
    </div>
    <button class="btn btn-primary nextBtn btn-lg pull-right" type="button" >Next</button>
  </div>
</div>
</div>
<div class="row setup-content" id="step-3">
  <div class="col-xs-12">
    <div class="col-md-12">
      <h3> Step 3</h3>
      <div class="form-group">
        <%= hidden_field_tag "trip[driver_id]", current_user.id %>
        <%= label_tag "Leaving at" %>
        <div class='input-group date' id='datetimepicker1'>
          <%= text_field_tag "trip[leaving_at]", @trip ? @trip.leaving_at : "" %>
          <span class="input-group-addon">
          <span class="glyphicon glyphicon-calendar"></span>
        </span>
      </div>
    </div>
    <div class="form-group">
      <%= label_tag "Arriving at" %>
        <div class='input-group date' id='datetimepicker2'>
            <%= text_field_tag "trip[arriving_at]", @trip ? @trip.arriving_at : "" %>
          <span class="input-group-addon">
          <span class="glyphicon glyphicon-calendar"></span>
        </span>
      </div>
   </div>
   <div class="form-group">
    <%= label_tag "Volume Available" %>
    <%= text_field_tag "trip[available_volume]", @trip ? @trip.available_volume : "" %>
  </div>
  <div class="form-group">
    <%= label_tag "Max Weight" %>
    <%= text_field_tag "trip[max_weight]", @trip ? @trip.max_weight : "" %>
  </div>
  <div class="form-group">
   <%= label_tag "Rate" %>
   <%= text_field_tag "trip[rate]", @trip ? @trip.rate : "" %>
 </div>
 <div class="form-group">
   <%= label_tag "Content Restrictions" %>
   <%= text_area_tag "trip[content_restrictions]", @trip ? @trip.content_restrictions : "", size: "50x10" %>
 </div>
 <div class="form-group">
  <%= label_tag "Vehicle" %>
  <%= text_field_tag "trip[vehicle]", @trip ? @trip.vehicle : "" %>
</div>
<%= submit_tag (@submit_btn) %>
<% end %>
</div>
</div>
</div>
</div>

<script type="text/javascript">
$(function () {
  $('#datetimepicker1').datetimepicker();
});
</script>
<script type="text/javascript">
$(function () {
  $('#datetimepicker2').datetimepicker();
});
</script>